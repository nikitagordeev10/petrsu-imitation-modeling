&НаКлиенте
Процедура СгенерироватьТочки(Команда)
    // Указываем путь к файлу
    ИмяФайла = "D:\helix_points.txt"; // Укажите путь к файлу
	
    num_u = 10; // Количество точек по оси u
    num_v = 10; // Количество точек по оси v
    pi = 3.141592653589793; // Значение числа π
    step_u = 2 * pi / (num_u - 1); // Шаг по оси u
    step_v = 2 * pi / (num_v - 1); // Шаг по оси v

    // Создаем объект для записи текста в файл
    ЗаписьТекста = Новый ЗаписьТекста(ИмяФайла, КодировкаТекста.UTF8, Символы.ПС, Ложь);

    Для i = 0 По num_u - 1 Цикл
        Для j = 0 По num_v - 1 Цикл
            // Генерация случайных координат методом Неймана
            u = СгенерироватьСлучайноеЧислоНеймана(0, 2 * pi); // Случайное значение u
            v = СгенерироватьСлучайноеЧислоНеймана(0, 2 * pi); // Случайное значение v

            // Вычисление координат
            x = u * Cos(v); // Вычисление x
            y = u * Sin(v); // Вычисление y
            z = v;          // Вычисление z

            // Форматируем каждую координату в строку с фиксированным количеством знаков после запятой
            СтрокаX = СтрЗаменить(Формат(x, "ЧГ=6"), ",", ".");
            СтрокаY = СтрЗаменить(Формат(y, "ЧГ=6"), ",", ".");
            СтрокаZ = СтрЗаменить(Формат(z, "ЧГ=6"), ",", ".");

            // Если значение нулевое, явно задаем "0.000000"
            Если x = 0 Тогда
                СтрокаX = "0.000000";
            КонецЕсли;
            Если y = 0 Тогда
                СтрокаY = "0.000000";
            КонецЕсли;
            Если z = 0 Тогда
                СтрокаZ = "0.000000";
            КонецЕсли;

            // Формируем строку для записи в файл
            СтрокаВывода = СтрокаX + " " + СтрокаY + " " + СтрокаZ;
            
            // Записываем строку в файл
            ЗаписьТекста.ЗаписатьСтроку(СтрокаВывода);
        КонецЦикла;
    КонецЦикла;

    // Закрываем файл
    ЗаписьТекста.Закрыть();
    Сообщить("Данные успешно выгружены в файл: " + ИмяФайла);
КонецПроцедуры

Функция СгенерироватьСлучайноеЧислоНеймана(Минимум, Максимум)
	ГСЧ = Новый ГенераторСлучайныхЧисел();

	// Метод Неймана для генерации случайного числа из равномерного распределения
    Пока Истина Цикл
        // Генерация случайного числа из равномерного распределения
        x = Минимум + (Максимум - Минимум) * ГСЧ.СлучайноеЧисло();

        // Генерация случайного числа y для проверки
        y = ГСЧ.СлучайноеЧисло();

        // Проверка условия y <= f(x)
        Если y <= 1 Тогда // Для равномерного распределения f(x) = 1
            Возврат x; // Возвращаем x как случайное число
        КонецЕсли;
    КонецЦикла;
КонецФункции